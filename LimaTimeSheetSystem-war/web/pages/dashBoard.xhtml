<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<ui:composition
    template="/WEB-INF/templates/templet.xhtml"
    xmlns:b="http://bootsfaces.net/ui"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"> 
    <ui:param name="title" value="DashBoard"/>

    <ui:define name="content">







        <h:form>

            <!--- Employee table -->
            <ui:fragment rendered="#{dashBoard.contractWithEmployee.size() > 0}">
                <h:outputLabel value="#{msg.dashboardEmployeeContract}"
                               class="fa-2x"/>
                <br/>


                <b:dataTable id="table1" striped="true" 
                             var="c"
                             searching="false"
                             rendered="#{dashBoard.contractWithEmployee.size() > 0}"
                             value="#{dashBoard.contractWithEmployee}" >
                    <b:dataTableColumn label="#{msg.dbManagerTableno}" orderable="false">
                        #{dashBoard.contractWithEmployee.indexOf(c) + 1}
                    </b:dataTableColumn>
                    <b:dataTableColumn 
                        label="#{msg.dbDataTableColumnCN}" 
                        orderable="false">
                        ${c.name}
                    </b:dataTableColumn>
                    <b:dataTableColumn label="#{msg.dbDataTableColumnStatus}" orderable="false">
                        #{c.status}
                    </b:dataTableColumn>
                    <b:dataTableColumn label="#{msg.dbDataTableColumnSD}" orderable="false">
                        #{c.startDate}
                    </b:dataTableColumn>
                    <b:dataTableColumn label="#{msg.dbDataTableColumnED}" orderable="false">
                        #{c.endDate}
                    </b:dataTableColumn>
                    <b:dataTableColumn label=""  orderable="false">

                        <h:link outcome="TimeSheetList" value="Entries">
                            <f:param name="uuid" value="${c.uuid}"/>
                        </h:link>
                        <br/>
                        <h:link outcome="Statistic" value="statistic">
                            <f:param name="uuid" value="${c.uuid}"/>
                        </h:link>


                    </b:dataTableColumn>


                </b:dataTable>

            </ui:fragment>
            <br/>
            <ui:fragment rendered="#{dashBoard.contractWithManager.size() == 0 &amp;&amp; dashBoard.contractWithEmployee.size() == 0}">
                <b:container class="margin-5 align-items-center">

                    <b:row>
                        <b:column span="12" offset="4">
                            <h:outputLabel value="#{msg.dashboardDontHaveContract}" />
                        </b:column>
                    </b:row>
                </b:container>
            </ui:fragment>

            <br/>
            <ui:fragment rendered="#{dashBoard.contractWithManager.size() > 0}">
                <h:outputLabel value="#{msg.dashboardManagerContract}" class="fa-2x"/>
                <br/>

                <b:dataTable id="table2" striped="true" 
                             var="c"
                             searching="false"
                             class="fa-1x"
                             info="true"
                             rendered="#{dashBoard.contractWithManager.size() > 0}"
                             value="#{dashBoard.contractWithManager}">
                    <b:dataTableColumn label="#{msg.dbManagerTableno}" orderable="false">
                        #{dashBoard.contractWithManager.indexOf(c) + 1}
                    </b:dataTableColumn>
                    <b:dataTableColumn label="#{msg.dbManagerTableName}" orderable="false">
                        #{c.name}
                    </b:dataTableColumn>
                    <b:dataTableColumn label="#{msg.dbManagerTableYR}" orderable="false">
                        #{c.currentUserRole}
                    </b:dataTableColumn>
                    <b:dataTableColumn label="#{msg.dbManagerTableStatus}" orderable="false">
                        #{c.status}
                    </b:dataTableColumn>
                    <b:dataTableColumn label="#{msg.dbManagerTableDH}" orderable="false">
                        #{c.hourDue}
                    </b:dataTableColumn>
                    <b:dataTableColumn label="#{msg.dbManagerTableActions}" orderable="false">
                        <b:row class="fa-1x">
                            <ui:fragment rendered="${c.inPrepared()}">
                                <b:column span="1" rendered="${c.inPrepared()}">
                                    <h:link outcome="EditContract" rendered="${c.inPrepared()}">
                                        <h:outputText value="#{msg.dbManagerTableEditBtn}" styleClass="fa-1x" />
                                        <f:param name="uuid" value="#{c.uuid}"/>
                                    </h:link>


                                </b:column>
                                <br/>
                            </ui:fragment>
                            <b:column span="1">
                                <h:link outcome="ManageContract">
                                    <h:outputText value="#{msg.dbManagerTableManageBtn}" styleClass="fa-1x" />
                                    <f:param name="uuid" value="#{c.uuid}"/>
                                </h:link>
                            </b:column>
                            <ui:fragment rendered="${!c.inPrepared()}">
                                <br/>
                                <b:column span="1" rendered="${!c.inPrepared()}">
                                    <h:link outcome="TimeSheetList" rendered="${!c.inPrepared()}">
                                        <h:outputText value="#{msg.dbManagerTableSheetsBtn}" styleClass="fa-1x" />
                                        <f:param name="uuid" value="#{c.uuid}"/>
                                    </h:link>

                                </b:column>
                                <br/>
                            </ui:fragment>
                            <ui:fragment rendered="${!c.inPrepared()}">
                                <b:column span="1" rendered="${!c.inPrepared()}">
                                    <h:link outcome="Statistic" value="statistic">
                                        <f:param name="uuid" value="${c.uuid}"/>
                                    </h:link>
                                </b:column>
                            </ui:fragment>
                        </b:row>
                    </b:dataTableColumn>


                </b:dataTable>


            </ui:fragment>
            <br/>
            <ui:fragment rendered="#{loginBean.staff}" class="margin-5">
                <b:button
                    offset="3"
                    look="info" icon="plus-sign"
                    outcome="EditContract"
                    span="6"
                    value="#{msg.dbNewContractbtn}">
                    <f:param name="uuid" value="new"/>  
                </b:button>
            </ui:fragment> 
            <br/>
            <br/>
            <ui:fragment rendered="#{dashBoard.archievedContract.size() > 0}">
                <h:outputLabel value="#{msg.dashboardArchievedContract}" class="fa-2x"/>
                <br/>

                <b:dataTable id="table3" striped="true" 
                             var="c"
                             searching="false"
                             class="fa-1x"
                             info="true"
                             rendered="#{dashBoard.archievedContract.size() > 0}"
                             value="#{dashBoard.archievedContract}">
                    <b:dataTableColumn label="#{msg.dbManagerTableno}" orderable="false">
                        #{dashBoard.archievedContract.indexOf(c) + 1}
                    </b:dataTableColumn>
                    <b:dataTableColumn label="#{msg.dbManagerTableName}" orderable="false">
                        #{c.name}
                    </b:dataTableColumn>
                    <b:dataTableColumn label="#{msg.dbManagerTableYR}" orderable="false">
                        #{c.currentUserRole}
                    </b:dataTableColumn>

                    <b:dataTableColumn label="#{msg.dbManagerTableDH}" orderable="false">
                        #{c.hourDue}
                    </b:dataTableColumn>
                    <b:dataTableColumn label="#{msg.dbManagerTableActions}" orderable="false">
                        <b:row class="fa-1x">
                           

                            <b:column span="1">
                                <h:link outcome="TimeSheetList" rendered="${!c.inPrepared()}">
                                    <h:outputText value="#{msg.dbManagerTableSheetsBtn}" styleClass="fa-1x" />
                                    <f:param name="uuid" value="#{c.uuid}"/>
                                </h:link>
                            </b:column> 
                            <br/>
                            <b:column span="1">
                                <h:link outcome="Statistic" value="statistic">
                                    <f:param name="uuid" value="${c.uuid}"/>
                                </h:link>
                            </b:column>
                        </b:row>
                    </b:dataTableColumn>


                </b:dataTable>


            </ui:fragment>

            <br/>


        </h:form>


    </ui:define>
</ui:composition>