<?xml version="1.0" encoding="UTF-8"?>
<!--

-->

<ui:composition
    template="/WEB-INF/templates/templet.xhtml"
    xmlns:b="http://bootsfaces.net/ui"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam id="uuid" name="uuid" value="${editContract.uuid}"
                         required="true"
                         requiredMessage="UUID required"/>
        </f:metadata>
    </ui:define>
    <ui:param name="title" value="Edit Contract"/>
    <ui:define name = "scripts">

    </ui:define>
    <ui:define name="content">

        <b:form  class="container comment-form">



            <b:alert severity="danger" rendered="${editContract.isValidationError()}">
                ${editContract.errorMessage}
            </b:alert>
            <div  class="col-3  form-group">


                <b:inputText type="text" id="contractname"
                             label="Name:" class="form-control"
                             value="#{editContract.contract.name}"
                             required="true" 
                             
                             requiredMessage="#{msg.editContractRequired}"
                             validatorMessage="Required"/>
                <b:message />
            </div>

            <div class="col-3 form-group">


                <b:datepicker label="Start Date" 
                              change-month="true"
                              value="#{editContract.startDate}" required="true"
                              requiredMessage="#{msg.editContractRequired}"/>
                <b:message />

            </div>

            <div class="col-3 form-group">
                <b:datepicker label="End Date"  value="#{editContract.endDate}" 
                              required="true"
                               change-month="true"
                              requiredMessage="#{msg.editContractRequired}"/>
                <b:message />
            </div>
            <div  class="col-3  form-group">
                <b:inputText type="number" id="hoursPerWeek" label="hours Per Week:"
                             class="form-control" value="#{editContract.hpw}"  required="true"
                             requiredMessage="#{msg.editContractRequired}"
                             validatorMessage="Enter Valid Input">
                    <f:validateRegex pattern="[\d]+[\.][\d]+|[\d]+"/>
                </b:inputText>
                <b:message />
            </div>

            <div  class="col-3  form-group">
                <b:inputText type="number" id="workingDayPerWeek" label="Working Days Per Week:" class="form-control" value="#{editContract.wdpw}"
                             required="true"
                             requiredMessage="#{msg.editContractRequired}"
                             validatorMessage="Enter Valid Input">
                    <f:validateRegex pattern="[\d ]+"/>
                </b:inputText>
                <b:message />
            </div>

            <div  class="col-3  form-group">


                <b:inputText type="number" id="vacationDayPerYear" 
                             label="Vacation Days per Year:" class="form-control"
                             value="#{editContract.vdpy}"  required="true"
                             requiredMessage="#{msg.editContractRequired}"
                             validatorMessage="Enter Valid Input">
                    <f:validateRegex pattern="[\d ]+"/>
                </b:inputText>
                <b:message />
            </div>

            <div class="col-3 form-group">


                <b:selectOneMenu value="#{editContract.frq}" label="Frequency" class=""  required="true"
                                 requiredMessage="#{msg.editContractRequired}"
                                 select2="true">

                    <f:selectItem itemLabel="WEEKLY" itemValue="1" />
                    <f:selectItem itemLabel="MONTHLY" itemValue="2" />

                </b:selectOneMenu>
                <b:message />

            </div>

            <div class="col-3 form-group">
                <b:selectOneMenu value="#{editContract.employee}" label="Employee"  required="true"
                                 requiredMessage="#{msg.editContractRequired}"
                                 select2="true">
                    <f:selectItem itemLabel="(Please select)" itemValue="" />

                    <f:selectItems value="#{editContract.allUsers}" var="c" 
                                   itemValue="#{c}" itemLabel="#{c.firstName}"/>
                </b:selectOneMenu>
                <b:message />
            </div>
            <div class="col-3 form-group">
                <b:selectOneMenu value="#{editContract.supervisor}" label="Supervisor"  required="true"
                                 requiredMessage="#{msg.editContractRequired}"
                                 select2="true">
                    <f:selectItem itemLabel="(Please select)" itemValue="" />

                    <f:selectItems value="#{editContract.staffMembers}" var="c" 
                                   itemValue="#{c}" itemLabel="#{c.firstName}"/>
                </b:selectOneMenu>
                <b:message />
            </div>
            <div class="col-3 form-group">
                <b:selectMultiMenu value="#{editContract.secr}"
                                   label="Secretary"  required="true"
                                   requiredMessage="#{msg.editContractRequired}"
                                   nonSelectedText="#{msg.editContractNotSelected}"
                                   
                                   >


                    <f:selectItems value="#{editContract.staffMembers}" var="c" 
                                   itemValue="#{c.uuid}" itemLabel="#{c.firstName}"/>
                </b:selectMultiMenu>
                 <b:message />
            </div>
            <br/>
            <br/>
            <div class="col-3 form-group">
                <b:selectMultiMenu value="#{editContract.assis}"
                                   label="Assistant"
                                   nonSelectedText="#{msg.editContractNotSelected}"
                                   >


                    <f:selectItems value="#{editContract.staffMembers}" var="c" 
                                   itemValue="#{c.uuid}" itemLabel="#{c.firstName}"/>
                </b:selectMultiMenu>
            </div>
            <br/>
            <br/>
            <b:row>
                <b:column span="1">
                      <h:commandLink actionListener="#{editContract.storeContract}"
                           >
                <b:button class="btn-success" value="Save"/>

            </h:commandLink>    
                </b:column>
                <b:column span="1">
                      <h:link outcome="DashBoard" >
                <b:button class="btn-danger" value="Cancel">

                </b:button>
            </h:link>
                </b:column>
            </b:row>

          


        </b:form>

    </ui:define>
</ui:composition>
