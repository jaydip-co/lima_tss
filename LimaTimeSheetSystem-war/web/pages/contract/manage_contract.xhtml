<?xml version="1.0" encoding="UTF-8"?>
<!--

-->

<ui:composition
    template="/WEB-INF/templates/templet.xhtml"
    xmlns:b="http://bootsfaces.net/ui"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam id="uuid" name="uuid" value="${editContract.uuid}"
                         required="true"
                         requiredMessage="UUID required"/>
        </f:metadata>
    </ui:define>
    <ui:param name="title" value="#{msg.mcpTitletxt} - #{editContract.contract.name}"/>
    <ui:define name="content">
        <b:container>
            <b:form>
                <h:link outcome="DashBoard">
             <b:button value="#{msg.tsListGBbtn}" icon="back"/>
        </h:link>
                <b:column>

                    <h:outputLabel value="#{editContract.contract.name}"
                                   class="fa-3x"/>
                    <b:container class="mngtable" >
                        <b:row styleClass="show-grid">
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <h:outputText value="#{msg.mcpStatusLabel}"/>
                            </b:column>
                            <b:column col-xs="1" col-sm="1" col-md="1" >
                                <h:outputText value=":"/>
                            </b:column>
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <h:outputText value="#{editContract.contract.status}"/>
                            </b:column>
                        </b:row>
                        <b:row styleClass="show-grid">
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <h:outputText value="#{msg.mcpStartDateLabel}"/>
                            </b:column>
                            <b:column col-xs="1" col-sm="1" col-md="1" >
                                <h:outputText value=":"/>
                            </b:column>
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <h:outputText value="#{editContract.contract.startDate}"/>
                            </b:column>
                        </b:row>
                        <b:row styleClass="show-grid">
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <h:outputText value="#{msg.mcpEndDateLabel}"/>
                            </b:column>
                            <b:column col-xs="1" col-sm="1" col-md="1" >
                                <h:outputText value=":"/>
                            </b:column>
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <h:outputText value="#{editContract.contract.endDate}"/>
                            </b:column>
                        </b:row>
                        <b:row styleClass="show-grid">
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <h:outputText value="#{msg.mcpEmployeeLabel}"/>
                            </b:column>
                            <b:column col-xs="1" col-sm="1" col-md="1" >
                                <h:outputText value=":"/>
                            </b:column>
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <h:outputText value="#{editContract.contract.employee.firstName}"/>
                            </b:column>
                        </b:row>
                        <b:row styleClass="show-grid">
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <h:outputText value="Supervisor"/>
                            </b:column>
                            <b:column col-xs="1" col-sm="1" col-md="1" >
                                <h:outputText value=":"/>
                            </b:column>
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <h:outputText value="#{editContract.contract.supervisor.firstName}"/>
                            </b:column>
                        </b:row>
                        <b:row styleClass="show-grid">
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <h:outputText value="Assistant"/>
                            </b:column>
                            <b:column col-xs="1" col-sm="1" col-md="1" >
                                <h:outputText value=":"/>
                            </b:column>
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <ui:fragment rendered="#{editContract.contract.assistants.size() == 0}">
                                      <h:outputText value="--"/>
                                </ui:fragment>
                                <ui:repeat value="#{editContract.contract.assistants}" var="c">
                                    <h:outputText value="#{c.firstName}"/>
                                </ui:repeat>
                            </b:column>
                        </b:row>
                        <b:row styleClass="show-grid">
                            <b:column col-xs="3" col-sm="2" col-md="2">
                                <h:outputText value="Secretary"/>
                            </b:column>
                            <b:column col-xs="1" col-sm="1" col-md="1" >
                                <h:outputText value=":"/>
                            </b:column>
                            <b:column col-xs="3" col-sm="2" col-md="2">
                               
                                <ui:repeat value="#{editContract.contract.secretaries}" var="c">
                                    <h:outputText value="#{c.firstName}"/>
                                </ui:repeat>
                               
                            </b:column>
                        </b:row>
                        <br/>
                        <br/>
                        <ui:fragment rendered="#{editContract.contract.roleAssistant} || #{editContract.contract.roleSupervisor}">
                        <ui:fragment rendered="#{editContract.inPrepared}">

                            <b:row styleClass="show-grid">
                                <b:column span="2" class="col-2">
                                    <b:commandButton
                                        class="col-2 btn-success"
                                        value="#{msg.mcpStartContractBtn}"
                                        actionListener="#{editContract.startContract}"
                                        />
                                </b:column>
                                <b:column span="2" class="col-2">
                                    <b:commandButton
                                        class="col-2 btn-danger"
                                        value="#{msg.mcpDeletetBtn}"
                                        action="DashBoard"
                                        actionListener="#{editContract.deleteContract}"
                                        />
                                </b:column>

                            </b:row>
                        </ui:fragment>
                        <ui:fragment rendered="#{editContract.inStarted}">

                            <b:row styleClass="show-grid">
                                <b:column span="2" class="col-2">
                                    <b:commandButton
                                        class="col-2 btn-danger"
                                        value="#{msg.mcpTerminateBtn}"
                                        actionListener="#{editContract.terminate}"
                                        />
                                </b:column>

                            </b:row>
                        </ui:fragment>
                            </ui:fragment>
                        
                        <ui:fragment rendered="#{editContract.contract.roleSecretary}">
                             <b:row styleClass="show-grid">
                                <b:column span="2" class="col-2">
                                    <b:commandButton
                                        class="col-2 btn-danger"
                                        value="#{msg.mcpPrintContract}"
                                        actionListener="#{editContract.printContract}"
                                        />
                                </b:column>

                            </b:row>
                        </ui:fragment>
                    </b:container>
                </b:column>
            </b:form>
</b:container>
    </ui:define>
</ui:composition>
